cmake_minimum_required(VERSION 3.10)

set(CMAKE_CXX_SCAN_FOR_MODULES OFF)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)
list(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_SOURCE_DIR}/cmake")

project(DOMK VERSION 0)

find_package(Vulkan REQUIRED)
find_package(GLFW3 REQUIRED)
find_package(glm REQUIRED)

file(GLOB src "src/*.cpp" "src/*.c")
file(GLOB shaders "shaders/*.spv")

add_executable(DOMK ${src} ${shaders})

target_compile_features(DOMK PRIVATE cxx_std_23)

target_include_directories(DOMK PUBLIC "include")
target_include_directories(DOMK PUBLIC Vulkan::Headers)

target_link_directories(DOMK PUBLIC "lib")
target_link_libraries(DOMK Vulkan::Vulkan)
target_link_libraries(DOMK glm.lib)
target_link_libraries(DOMK glfw3dll.lib)
target_link_libraries(DOMK tinyobjloader.lib)
